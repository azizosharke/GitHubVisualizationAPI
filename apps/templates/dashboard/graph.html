{% extends "base.html" %}

{% block style %}
<link rel="stylesheet" type="text/css" href= "{{ url_for('static',filename='css/graph.css') }}">
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400&display=swap" rel="stylesheet">
{% endblock style %}

{% block title %}
Graph
{% endblock title %}

{% block content %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div class="line_card">
    <canvas id = "lineChart"></canvas>
</div>

<div class="bar_card">
    <canvas id = "barChart"></canvas>
</div>

<div class="pie_card">
    <canvas id = "pieChart"></canvas>
</div>


<script>
    Chart.defaults.color = '#d1d1d1';
    var ctx = document.getElementById("lineChart").getContext("2d");
    var gradient = ctx.createLinearGradient(0, 0, 0, 400);
    gradient.addColorStop(0, "#e14ecb61");
    gradient.addColorStop(0.5, "#e14ecb33");
    gradient.addColorStop(1, "#e14ecb09");
    var lineChart = new Chart(ctx, {
        type: "line",
        data: {
            labels: {{ labels1 | safe }},
            datasets: [
                {
                    label: "Commits",
                    data: {{ values1 | safe }},
                    backgroundColor: gradient,
                    fill: true,
                    borderColor: "#e14eca",
                    lineTension: 0.1
                }
            ]
        },

        options: {
            scales: {
                y: {
                    ticks: {color: "#d1d1d1", beginAtZero: true},
                },

                x: {
                    ticks: {color: "#d1d1d1"},
                    grid: {
                        color: "#e14ecb21"
                    }
                }
            },

            maintainAspectRatio: false

        }
    });

    var ctx = document.getElementById("barChart").getContext("2d");
    var gradient = ctx.createLinearGradient(0, 0, 0, 400);
    gradient.addColorStop(0, "#1d8bf83f");
    gradient.addColorStop(0.5, "#1d8bf815");
    gradient.addColorStop(1, "#1d8bf80c");
    var barChart = new Chart(ctx, {
        type: "bar",
        data: {
            labels: {{ labels2 | safe }},
            datasets: [
                {
                    label: "Commits",
                    data: {{ values2 | safe }},
                    fill: true,
                    backgroundColor: gradient,
                    borderColor: "#1d8cf8",
                    borderWidth: 3
                }
            ]
        },

        options: {
            indexAxis: 'y',
            scales: {
                y: {
                    ticks: {color: "#d1d1d1", beginAtZero: true},
                    grid: {
                        color: "#1d8bf829"
                    }
                },

                x: {
                    ticks: {color: "#d1d1d1"},
                    grid: {
                        color: "#1d8bf829"
                    }
                }
            },

            maintainAspectRatio: false
        }
    });

    var ctx = document.getElementById("pieChart").getContext("2d");
    var barChart = new Chart(ctx, {
        type: "pie",
        data: {
            labels: {{ labels3 | safe }},
            datasets: [
                {
                    label: "Commits",
                    data: {{ values3 | safe }},
                    fill: true,
                    backgroundColor: "#00cca313",
                    borderColor: "#00cca4",
                    borderWidth: 3
                }
            ]
        },

        options: {
            maintainAspectRatio: false
        }
    });

</script>


{% endblock content %}